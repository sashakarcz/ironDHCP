server:
  # Network interfaces to listen on
  interfaces:
    - name: wlan0
      ipv4: true
      ipv6: false

  # Server identification (for HA deployments)
  # Use unique IDs like "dhcp-01", "dhcp-02" etc.
  # Leave empty or comment out for single-server deployments
  server_id: "dhcp-single"

  # High Availability / Cluster configuration
  cluster:
    enabled: false  # Set to true for active/active HA deployments
    use_read_cache: false  # Optional: enable read-only cache for performance (80%+ hit rate)

database:
  # PostgreSQL connection
  connection: "postgres://dhcp:dhcp_dev_password@localhost:5432/irondhcp?sslmode=disable"

  # Connection pool settings
  max_connections: 20
  min_connections: 5

  # Lease write batching (performance optimization)
  batch_writes: true
  batch_interval: 1s

observability:
  # Prometheus metrics endpoint
  metrics_enabled: true
  metrics_port: 9090
  metrics_path: /metrics

  # Structured logging
  log_level: debug  # debug, info, warn, error
  log_format: text  # json or text

  # Web UI and API
  web_enabled: true
  web_port: 8080
  web_auth:
    enabled: false  # Disable for development
    username: admin
    password_hash: ""

# GitOps configuration (Phase 2)
# Enable this to sync configuration from a Git repository
git:
  enabled: true  # Pull subnets from Git repository
  repository: "https://github.com/sashakarcz/irondhcp-config.git"
  branch: "main"
  config_path: "dhcp.yaml"  # Path to config file within repo
  poll_interval: 60s        # How often to check for changes
  sync_timeout: 30s         # Timeout for sync operations
  validate_before_sync: true

  # Authentication (optional)
  auth:
    type: "none"  # Options: token, ssh, none
    token: "${GIT_TOKEN}"  # Use environment variable for token
    # ssh_key_path: "/path/to/ssh/key"  # For SSH auth

# Subnet configuration
# Subnets are managed via GitOps from the repository above
# Local subnets can be defined here but will be overridden by GitOps
